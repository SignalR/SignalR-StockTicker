<!DOCTYPE html />
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>SignalR Stock Ticker</title>
    <link href="StockTicker.css" rel="stylesheet" />
</head>
<body>
    <h1>SignalR Stock Ticker Sample</h1>

    <input type="button" id="open" value="Open Market" data-bind="click:openMarket,disable:openDisabled" />
    <input type="button" id="close" value="Close Market" disabled="disabled" data-bind="click:closeMarket,disable:closeDisabled" />
    <input type="button" id="reset" value="Reset" data-bind="click:resetTicker,disable:resetDisabled"/>

    <h2>Live Stock Table</h2>
    <div id="stockTable">
        <table border="1">
            <thead>
                <tr><th>Symbol</th><th>Price</th><th>Open</th><th>High</th><th>Low</th><th>Change</th><th>%</th></tr>
            </thead>
            <tbody data-bind="foreach:stocks">
                <tr data-bind="attr:{'data-symbol':Symbol},flash:FlashColor">
                    <td data-bind="text:Symbol"></td>
                    <td data-bind="text:CurrentPrice"></td>
                    <td data-bind=text:DayOpen></td>
                    <td data-bind=text:DayHigh></td>
                    <td data-bind=text:DayLow></td>
                    <td><span class="dir" data-bind="text:Direction,css:{up:Up,down:Down,even:Even}"></span> <span data-bind="text:Change"></span></td>
                    <td data-bind=text:CurrentPercentChange></td>
                </tr>
            </tbody>
        </table>
    </div>

    <h2>Live Stock Ticker</h2>
    <div id="stockTicker" data-bind="visible:tickerVisible">
        <div class="inner">
            <ul data-bind="foreach:stocks">
                <li data-bind="attr:{'data-symbol':Symbol}">
                    <span class="symbol" data-bind="text:Symbol"></span>&nbsp;
                    <span class="price" data-bind="text:CurrentPrice">{Price}</span>&nbsp;
                    <span class="change">
                        <span class="dir" data-bind="text:Direction,css:{up:Up,down:Down,even:Even}">{Direction}</span>&nbsp;
                        <span data-bind="text:Change">&nbsp;</span>
                        (<span data-bind=text:CurrentPercentChange></span>)
                    </span>
                </li>
            </ul>
        </div>
    </div>

    <script src="../Scripts/jquery-1.6.4.js"></script>
    <script src="../Scripts/jquery.signalR.js"></script>
    <script src="../Scripts/jquery.color.js" type="text/javascript"></script>
    <script src="../Scripts/knockout-1.3.0beta.debug.js" type="text/javascript"></script>
    <script src="../Scripts/knockout.mapping-latest.debug.js" type="text/javascript"></script>
    <script src="../signalr/hubs"></script>
    <script src="SignalR.StockTicker.js"></script>
</body>
</html>